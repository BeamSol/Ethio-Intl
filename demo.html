<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ethio-Intl Demo</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Ethiopic:wght@400;500&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Noto Sans Ethiopic', Roboto, sans-serif;
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
            background: #f5f5f5;
            color: #333;
        }

        .header {
            text-align: center;
            background: white;
            padding: 30px;
            border-radius: 10px;
            margin-bottom: 30px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .header h1 {
            color: #2c3e50;
            margin-bottom: 10px;
            font-size: 2.5rem;
        }

        .nav {
            display: flex;
            background: #fff;
            border-radius: 10px;
            overflow: hidden;
            margin-bottom: 30px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .nav-btn {
            flex: 1;
            padding: 15px 20px;
            border: none;
            background: #f8f9fa;
            cursor: pointer;
            font-size: 16px;
            font-weight: 500;
            transition: all 0.3s;
        }

        .nav-btn.active {
            background: #007bff;
            color: white;
        }

        .nav-btn:hover:not(.active) {
            background: #e9ecef;
        }

        .section {
            background: white;
            padding: 30px;
            border-radius: 10px;
            margin-bottom: 30px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            display: none;
        }

        .section.active {
            display: block;
        }

        .section h2 {
            color: #2c3e50;
            margin-bottom: 20px;
            font-size: 1.8rem;
            border-bottom: 2px solid #007bff;
            padding-bottom: 10px;
        }

        .demo-input {
            width: 100%;
            padding: 15px;
            font-size: 18px;
            border: 2px solid #007bff;
            border-radius: 8px;
            margin: 15px 0;
            font-family: 'Noto Sans Ethiopic', serif;
        }

        .demo-output {
            background: #f8f9fa;
            border: 2px solid #007bff;
            padding: 15px;
            border-radius: 8px;
            font-family: 'Noto Sans Ethiopic', serif;
            font-size: 24px;
            margin: 15px 0;
            min-height: 50px;
            text-align: center;
            font-weight: 500;
        }

        .button-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 10px;
            margin: 20px 0;
        }

        .btn {
            padding: 10px 15px;
            background: #007bff;
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            transition: background 0.3s;
        }

        .btn:hover {
            background: #0056b3;
        }

        .btn.secondary {
            background: #6c757d;
        }

        .btn.secondary:hover {
            background: #545b62;
        }

        .lang-buttons {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 20px 0;
        }

        .lang-btn {
            padding: 12px 25px;
            border: 2px solid #007bff;
            background: white;
            color: #007bff;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 500;
            transition: all 0.3s;
        }

        .lang-btn.active {
            background: #007bff;
            color: white;
        }

        .translation-box {
            background: #e7f3ff;
            border: 2px solid #007bff;
            padding: 20px;
            border-radius: 8px;
            text-align: center;
            font-size: 20px;
            font-weight: 500;
            margin: 20px 0;
        }

        .info-box {
            background: #fff3cd;
            border: 1px solid #ffc107;
            padding: 15px;
            border-radius: 6px;
            margin: 15px 0;
        }

        .code-example {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            padding: 15px;
            border-radius: 6px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            margin: 15px 0;
            overflow-x: auto;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>Ethio-Intl Demo</h1>
        <p>Amharic Transliteration & Localization Library</p>
    </div>

    <nav class="nav">
        <button class="nav-btn active" onclick="showTab('transliteration')">Transliteration</button>
        <button class="nav-btn" onclick="showTab('localization')">Localization (i18n)</button>
    </nav>

    <!-- Transliteration Section -->
    <div id="transliteration-section" class="section active">
        <h2>üî§ Amharic Transliteration</h2>
        <p>Type English letters to see real-time Amharic conversion:</p>

        <input type="text" id="amharic-input" class="demo-input" placeholder="Type here: selam, he, hu, ba..." />
        <div class="demo-output" id="amharic-output">·ä•·äï·ä≥·äï ·ã∞·àÖ·äì ·àò·å°!</div>

        <div class="button-grid">
            <button class="btn" onclick="insertText('selam')">selam</button>
            <button class="btn" onclick="insertText('he')">he ‚Üí ·àÄ</button>
            <button class="btn" onclick="insertText('hu')">hu ‚Üí ·àÅ</button>
            <button class="btn" onclick="insertText('ba')">ba ‚Üí ·â£</button>
            <button class="btn" onclick="insertText('te')">te ‚Üí ·â∞</button>
            <button class="btn" onclick="insertText('ka')">ka ‚Üí ·ä´</button>
            <button class="btn" onclick="insertText('ne')">ne ‚Üí ·äê</button>
            <button class="btn secondary" onclick="clearText()">Clear</button>
        </div>

        <div class="info-box">
            <strong>Tip:</strong> Use single 'e' for √§ forms (·àÄ ·àà ·àò), double 'e' for regular e forms (·àÑ ·àå ·àú)
        </div>
    </div>

    <!-- Localization Section -->
    <div id="localization-section" class="section">
        <h2>üåê Internationalization (i18n)</h2>
        <p>Simple language switching with zero configuration:</p>

        <div class="lang-buttons">
            <button class="lang-btn active" onclick="switchLanguage('en')">English</button>
            <button class="lang-btn" onclick="switchLanguage('am')">·ä†·àõ·à≠·äõ</button>
        </div>

        <div class="translation-box" id="welcome-text">
            Welcome to Ethio-Intl!
        </div>

        <div class="translation-box" id="description-text">
            Experience the power of modern Amharic localization
        </div>

        <h3>How it works:</h3>
        <div class="code-example">
import { EthioProvider, useEthioIntl } from 'ethio-intl';

const translations = {
  en: { translation: { hello: 'Hello', bye: 'Goodbye' } },
  am: { translation: { hello: '·à∞·àã·àù', bye: '·ã´·âÄ·à≠' } }
};

function App() {
  return (
    &lt;EthioProvider resources={translations}&gt;
      &lt;MyComponent /&gt;
    &lt;/EthioProvider&gt;
  );
}

function MyComponent() {
  const { t, currentLang, changeLanguage } = useEthioIntl();
  return &lt;h1&gt;{t('hello')}&lt;/h1&gt;;
}</code></div>

        <div class="info-box">
            <strong>üöÄ Zero Configuration:</strong> Just provide translations - we handle i18next setup, singleton management, and best practices automatically!
        </div>
    </div>

            <div class="demo-section">
                <h2>üéØ Smart Transliteration Input</h2>
                <p><strong>Type in English</strong> and watch it convert to <strong>Amharic in real-time</strong>:</p>

                <div id="smart-input-container">
                    <input
                        type="text"
                        id="amharic-input"
                        class="demo-input"
                        placeholder="Start typing... (try: selam, hu, ba, te, ka)"
                        autocomplete="off"
                    />
                    <div class="demo-output" id="amharic-output">·ä•·äï·ä≥·äï ·ã∞·àÖ·äì ·àò·å°!</div>
                </div>

                <div class="try-examples">
                    <button class="example-btn" onclick="insertText('selam')">selam</button>
                    <button class="example-btn" onclick="insertText('hu')">hu</button>
                    <button class="example-btn" onclick="insertText('ba')">ba</button>
                    <button class="example-btn" onclick="insertText('te')">te</button>
                    <button class="example-btn" onclick="insertText('ka')">ka</button>
                    <button class="example-btn" onclick="insertText('ne')">ne</button>
                    <button class="example-btn" onclick="insertText('dehna')">dehna</button>
                    <button class="example-btn" onclick="clearText()">Clear</button>
                </div>

                <div style="margin-top: 15px; padding: 10px; background: #e8f4fd; border-radius: 6px; font-size: 14px;">
                    <strong>üí° First Forms (√§ vowel) - Multiple Easy Methods:</strong>
                    <div style="display: flex; gap: 10px; flex-wrap: wrap; margin-top: 5px;">
                        <button class="example-btn" onclick="insertText('he')" style="font-size: 12px;">he ‚Üí ·àÄ</button>
                        <button class="example-btn" onclick="insertText('le')" style="font-size: 12px;">le ‚Üí ·àà</button>
                        <button class="example-btn" onclick="insertText('me')" style="font-size: 12px;">me ‚Üí ·àò</button>
                        <button class="example-btn" onclick="insertText('re')" style="font-size: 12px;">re ‚Üí ·à®</button>
                        <button class="example-btn" onclick="insertText('se')" style="font-size: 12px;">se ‚Üí ·à∞</button>
                        <button class="example-btn" onclick="insertText('be')" style="font-size: 12px;">be ‚Üí ·â†</button>
                        <button class="example-btn" onclick="insertText('te')" style="font-size: 12px;">te ‚Üí ·â∞</button>
                        <button class="example-btn" onclick="insertText('ne')" style="font-size: 12px;">ne ‚Üí ·äê</button>
                        <button class="example-btn" onclick="insertText('ke')" style="font-size: 12px;">ke ‚Üí ·ä®</button>
                        <button class="example-btn" onclick="insertText('we')" style="font-size: 12px;">we ‚Üí ·ãà</button>
                        <button class="example-btn" onclick="insertText('ze')" style="font-size: 12px;">ze ‚Üí ·ãò</button>
                        <button class="example-btn" onclick="insertText('ye')" style="font-size: 12px;">ye ‚Üí ·ã®</button>
                        <button class="example-btn" onclick="insertText('de')" style="font-size: 12px;">de ‚Üí ·ã∞</button>
                        <button class="example-btn" onclick="insertText('je')" style="font-size: 12px;">je ‚Üí ·åÄ</button>
                        <button class="example-btn" onclick="insertText('ge')" style="font-size: 12px;">ge ‚Üí ·åà</button>
                    </div>
                    <div style="display: flex; gap: 10px; flex-wrap: wrap; margin-top: 5px;">
                        <button class="example-btn" onclick="insertText('h√§')" style="font-size: 12px;">h√§ ‚Üí ·àÄ</button>
                        <button class="example-btn" onclick="insertText('h1')" style="font-size: 12px;">h1 ‚Üí ·àÄ</button>
                        <button class="example-btn" onclick="insertText('l1')" style="font-size: 12px;">l1 ‚Üí ·àà</button>
                        <button class="example-btn" onclick="insertText('haa')" style="font-size: 12px;">haa ‚Üí ·àÄ</button>
                        <button class="example-btn" onclick="insertText('hee')" style="font-size: 12px;">hee ‚Üí ·àÑ</button>
                    </div>
                    <div style="margin-top: 5px; font-size: 12px; color: #666;">
                        <strong>Tip:</strong> Use 'e' after consonants for √§ forms, 'ee' for regular e forms!
                    </div>
                </div>
            </div>

            <div class="demo-section">
                <h2>‚ú® Features</h2>
                <div class="feature-list">
                    <div class="feature-item">
                        <h3>üîÑ Real-time Conversion</h3>
                        <p>As you type English letters, they instantly become Amharic characters</p>
                    </div>
                    <div class="feature-item">
                        <h3>üéØ Smart Combinations</h3>
                        <p>Consonant + vowel combinations work perfectly (h+u = ·àÅ, b+a = ·â£)</p>
                    </div>
                    <div class="feature-item">
                        <h3>‚å®Ô∏è Full Keyboard Support</h3>
                        <p>25+ consonants with complete vowel variations (a, e, i, o, u, wa, w)</p>
                    </div>
                    <div class="feature-item">
                        <h3>üì± Cursor Management</h3>
                        <p>Cursor stays in the right position during character replacements</p>
                    </div>
                    <div class="feature-item">
                        <h3>üîç Reverse Lookup</h3>
                        <p>Efficient mapping system for fast transliteration</p>
                    </div>
                    <div class="feature-item">
                        <h3>üé® Beautiful Display</h3>
                        <p>Proper Amharic typography with correct character rendering</p>
                    </div>
                </div>
            </div>

            <div class="demo-section">
                <h2>üìö Supported Characters</h2>
                <div id="character-showcase">
                    <div class="status info">
                        Loading character showcase...
                    </div>
                </div>
            </div>

            <div class="demo-section">
                <h2>üöÄ Technical Implementation</h2>
                <ul>
                    <li><strong>Nested Dictionary:</strong> Organized consonant ‚Üí vowel mappings</li>
                    <li><strong>Reverse Lookup:</strong> Fast Amharic ‚Üí Latin character mapping</li>
                    <li><strong>React Hooks:</strong> useTransliterate hook for state management</li>
                    <li><strong>TypeScript:</strong> Full type safety and IntelliSense support</li>
                    <li><strong>Performance:</strong> Optimized for real-time typing experience</li>
                </ul>
            </div>
    </div>

    <script>
        // Tab switching functionality
        function showTab(tabName) {
            // Hide all sections
            document.querySelectorAll('.section').forEach(section => {
                section.classList.remove('active');
            });

            // Remove active class from all nav buttons
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.classList.remove('active');
            });

            // Show selected section
            document.getElementById(tabName + '-section').classList.add('active');

            // Add active class to clicked button
            event.target.classList.add('active');
        }

        // Language switching functionality (simplified)
        const translations = {
            en: {
                welcome: 'Welcome to Ethio-Intl!',
                description: 'Experience the power of modern Amharic localization'
            },
            am: {
                welcome: '·ä•·äï·ä≥·äï ·ã∞·àÖ·äì ·àò·å° ·ãà·ã∞ ·ä¢·âµ·ãÆ-·ä¢·äï·âµ·àç!',
                description: '·ã®·ä†·àÅ·äë ·ã®·ä†·àõ·à≠·äõ ·ä†·ä´·â£·â¢ ·àò·å†·âÖ·àà·ã´ ·äÉ·ã≠·àç ·àà·àù·àµ·à´·âÖ'
            }
        };

        function switchLanguage(lang) {
            // Update active button
            document.querySelectorAll('.lang-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');

            // Update translations (simulating our context behavior)
            document.getElementById('welcome-text').textContent = translations[lang].welcome;
            document.getElementById('description-text').textContent = translations[lang].description;
        }

        // Amharic transliteration mapping (matches the actual library)
        const amharicMap = {
            "h": { √§: "·àÄ", base: "·àÖ", "a": "·àÉ", "u": "·àÅ", "i": "·àÇ", "e": "·àÑ", "o": "·àÜ" },
            "l": { √§: "·àà", base: "·àç", "a": "·àã", "u": "·àâ", "i": "·àä", "e": "·àå", "o": "·àé", "wa": "·àè" },
            "m": { √§: "·àò", base: "·àù", "a": "·àõ", "u": "·àô", "i": "·àö", "e": "·àú", "o": "·àû", "wa": "·àü" },
            "r": { √§: "·à®", base: "·à≠", "a": "·à´", "u": "·à©", "i": "·à™", "e": "·à¨", "o": "·àÆ", "wa": "·àØ" },
            "s": { √§: "·à∞", base: "·àµ", "a": "·à≥", "u": "·à±", "i": "·à≤", "e": "·à¥", "o": "·à∂", "wa": "·à∑" },
            "b": { √§: "·â†", base: "·â•", "a": "·â£", "u": "·â°", "i": "·â¢", "e": "·â§", "o": "·â¶", "wa": "·âß" },
            "t": { √§: "·â∞", base: "·âµ", "a": "·â≥", "u": "·â±", "i": "·â≤", "e": "·â¥", "o": "·â∂", "wa": "·â∑" },
            "n": { √§: "·äê", base: "·äï", "a": "·äì", "u": "·äë", "i": "·äí", "e": "·äî", "o": "·äñ", "wa": "·äó" },
            "k": { √§: "·ä®", base: "·ä≠", "a": "·ä´", "u": "·ä©", "i": "·ä™", "e": "·ä¨", "o": "·äÆ", "wa": "·ä≥", "w": "·äµ" },
            "w": { √§: "·ãà", base: "·ãç", "a": "·ãã", "u": "·ãâ", "i": "·ãä", "e": "·ãå", "o": "·ãé" },
            "z": { √§: "·ãò", base: "·ãù", "a": "·ãõ", "u": "·ãô", "i": "·ãö", "e": "·ãú", "o": "·ãû", "wa": "·ãü" },
            "y": { √§: "·ã®", base: "·ã≠", "a": "·ã´", "u": "·ã©", "i": "·ã™", "e": "·ã¨", "o": "·ãÆ" },
            "d": { √§: "·ã∞", base: "·ãµ", "a": "·ã≥", "u": "·ã±", "i": "·ã≤", "e": "·ã¥", "o": "·ã∂", "wa": "·ã∑" },
            "j": { √§: "·åÄ", base: "·åÖ", "a": "·åÉ", "u": "·åÅ", "i": "·åÇ", "e": "·åÑ", "o": "·åÜ", "wa": "·åá" },
            "g": { √§: "·åà", base: "·åç", "a": "·åã", "u": "·åâ", "i": "·åä", "e": "·åå", "o": "·åé", "wa": "·åì", "w": "·åï" },
            "f": { √§: "·çà", base: "·çç", "a": "·çã", "u": "·çâ", "i": "·çä", "e": "·çå", "o": "·çé", "wa": "·çè" },
            "p": { √§: "·çê", base: "·çï", "a": "·çì", "u": "·çë", "i": "·çí", "e": "·çî", "o": "·çñ", "wa": "·çó" },
            "q": { √§: "·âÄ", base: "·âÖ", "a": "·âÉ", "u": "·âÅ", "i": "·âÇ", "e": "·âÑ", "o": "·âÜ", "wa": "·âã", "w": "·âç" },
            "x": { √§: "·äÄ", base: "·äΩ", "a": "·äª", "u": "·äπ", "i": "·ä∫", "e": "·äº", "o": "·äæ", "wa": "·äã", "w": "·äç" },
            "c": { √§: "·â∏", base: "·âΩ", "a": "·âª", "u": "·âπ", "i": "·â∫", "e": "·âº", "o": "·âæ", "wa": "·âø" },
            "ch": { √§: "·â∏", base: "·âΩ", "a": "·âª", "u": "·âπ", "i": "·â∫", "e": "·âº", "o": "·âæ" },
            "sh": { √§: "·à∏", base: "·àΩ", "a": "·àª", "u": "·àπ", "i": "·à∫", "e": "·àº", "o": "·àæ", "wa": "·àø" },
            "a": { √§: "·ä†", base: "·ä†" },
            "e": { √§: "·ä•", base: "·ä•" },
            "i": { √§: "·ä¢", base: "·ä¢" },
            "o": { √§: "·ä¶", base: "·ä¶" },
            "u": { √§: "·ä°", base: "·ä°" }
        };

        // Build reverse map for efficient lookups
        const reverseMap = {};
        Object.keys(amharicMap).forEach(consonant => {
            const consonantData = amharicMap[consonant];
            reverseMap[consonantData.base] = consonant;
            Object.keys(consonantData).forEach(vowel => {
                if (vowel !== 'base') {
                    reverseMap[consonantData[vowel]] = consonant;
                }
            });
        });

        // Initialize when page loads
        document.addEventListener('DOMContentLoaded', function() {
            // Set up the input event listener for real-time transliteration
            const inputElement = document.getElementById('amharic-input');
            const outputElement = document.getElementById('amharic-output');

            inputElement.addEventListener('input', function(e) {
                const newValue = e.target.value;

                // Advanced transliteration logic with √§ form support (matches library)
                let result = '';
                let i = 0;

                while (i < newValue.length) {
                    const char = newValue[i].toLowerCase();

                    // Check if this character is a vowel that should combine with the previous consonant
                    if (result.length > 0 && ['a', 'e', 'i', 'o', 'u'].includes(char)) {
                        const lastChar = result[result.length - 1];
                        const consonantKey = reverseMap[lastChar];

                        if (consonantKey && amharicMap[consonantKey]) {
                            // Special handling for 'e': check for double 'e' (ee) pattern
                            // If next character is also 'e', use regular 'e' form, otherwise use √§ form
                            if (char === 'e') {
                                const nextChar = newValue[i + 1]?.toLowerCase();
                                if (nextChar === 'e' && amharicMap[consonantKey]['e']) {
                                    // Double 'e' (ee) ‚Üí regular e form
                                    result = result.slice(0, -1) + amharicMap[consonantKey]['e'];
                                    i += 2; // Skip both 'e's
                                    continue;
                                } else if (amharicMap[consonantKey]['√§']) {
                                    // Single 'e' ‚Üí √§ form (easier for users)
                                    result = result.slice(0, -1) + amharicMap[consonantKey]['√§'];
                                    i++;
                                    continue;
                                }
                            }
                            // Regular vowel combination
                            else if (amharicMap[consonantKey][char]) {
                                result = result.slice(0, -1) + amharicMap[consonantKey][char];
                                i++;
                                continue;
                            }
                        }
                    }

                    // Default: add the base character
                    const transliteration = amharicMap[char]?.base || char;
                    result += transliteration;
                    i++;
                }

                outputElement.textContent = result;
            });

            // Character showcase
            const showcaseContainer = document.getElementById('character-showcase');
            const examples = [
                { latin: 'he', amharic: '·àÄ' },
                { latin: 'hu', amharic: '·àÅ' },
                { latin: 'ha', amharic: '·àÉ' },
                { latin: 'le', amharic: '·àà' },
                { latin: 'me', amharic: '·àò' },
                { latin: 'be', amharic: '·â†' },
                { latin: 'te', amharic: '·â∞' },
                { latin: 'ne', amharic: '·äê' },
                { latin: 'ke', amharic: '·ä®' },
                { latin: 'selam', amharic: '·à∞·àã·àù' }
            ];

            let showcaseHTML = '<div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap: 10px;">';
            examples.forEach(example => {
                showcaseHTML += `
                    <div style="background: #f8f9fa; padding: 10px; border-radius: 4px; text-align: center;">
                        <div style="font-weight: bold; color: #007bff;">${example.latin}</div>
                        <div style="font-size: 24px; font-family: 'Noto Sans Ethiopic', serif;">${example.amharic}</div>
                    </div>
                `;
            });
            showcaseHTML += '</div>';

            showcaseContainer.innerHTML = showcaseHTML;
        });

        // Global functions for the buttons
        function insertText(text) {
            const input = document.getElementById('amharic-input');
            input.value = text;
            input.focus();
            // Trigger input event
            input.dispatchEvent(new Event('input', { bubbles: true }));
        }

        function clearText() {
            const input = document.getElementById('amharic-input');
            const output = document.getElementById('amharic-output');
            input.value = '';
            output.textContent = '·ä•·äï·ä≥·äï ·ã∞·àÖ·äì ·àò·å°!';
            input.focus();
        }
    </script>
</body>
</html>
