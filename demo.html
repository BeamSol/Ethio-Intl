<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ethio-Intl Library Demo</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            color: #2c3e50;
            background: #f8f9fa;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            padding: 40px 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 12px;
            margin-bottom: 30px;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            font-weight: 300;
        }

        .header p {
            font-size: 1.1rem;
            opacity: 0.9;
        }

        .nav-tabs {
            display: flex;
            justify-content: center;
            margin-bottom: 30px;
            background: white;
            border-radius: 8px;
            padding: 5px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .nav-btn {
            padding: 12px 24px;
            border: none;
            background: transparent;
            color: #666;
            cursor: pointer;
            border-radius: 6px;
            font-weight: 500;
            transition: all 0.3s;
        }

        .nav-btn.active {
            background: #667eea;
            color: white;
            box-shadow: 0 2px 8px rgba(102, 126, 234, 0.3);
        }

        .nav-btn:hover:not(.active) {
            background: #f0f0f0;
        }

        .section {
            display: none;
            background: white;
            border-radius: 12px;
            padding: 30px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            margin-bottom: 30px;
        }

        .section.active {
            display: block;
        }

        .section h2 {
            color: #2c3e50;
            margin-bottom: 20px;
            font-size: 1.8rem;
            border-bottom: 2px solid #667eea;
            padding-bottom: 10px;
        }

        .demo-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 40px;
            align-items: start;
        }

        @media (max-width: 768px) {
            .demo-content {
                grid-template-columns: 1fr;
            }
        }

        .demo-panel {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 25px;
        }

        .input-group {
            margin-bottom: 20px;
        }

        .input-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #333;
            font-size: 14px;
        }

        .demo-input {
            width: 100%;
            padding: 12px;
            border: 2px solid #e1e8ed;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s;
        }

        .demo-input:focus {
            outline: none;
            border-color: #667eea;
        }

        .demo-output {
            background: #fff;
            border: 2px solid #e1e8ed;
            border-radius: 8px;
            padding: 12px;
            font-family: monospace;
            font-size: 16px;
            min-height: 44px;
            word-break: break-all;
            color: #2c3e50;
        }

        .button-group {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
            margin: 15px 0;
        }

        .btn {
            padding: 8px 16px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.3s;
        }

        .btn.primary {
            background: #667eea;
            color: white;
        }

        .btn.primary:hover {
            background: #5a6fd8;
        }

        .btn.secondary {
            background: #6c757d;
            color: white;
        }

        .btn.secondary:hover {
            background: #5a6268;
        }

        .language-buttons {
            display: flex;
            gap: 10px;
            margin: 15px 0;
        }

        .lang-btn {
            padding: 8px 16px;
            border: 2px solid #667eea;
            background: white;
            color: #667eea;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s;
        }

        .lang-btn.active {
            background: #667eea;
            color: white;
        }

        .code-panel {
            background: #2d3748;
            color: #e2e8f0;
            border-radius: 8px;
            padding: 25px;
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            font-size: 14px;
            line-height: 1.5;
            overflow-x: auto;
        }

        .code-panel h3 {
            color: #63b3ed;
            margin-bottom: 15px;
            font-size: 16px;
        }

        .code-panel pre {
            margin: 0;
            white-space: pre-wrap;
        }

        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .feature-card {
            background: white;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            border-left: 4px solid #667eea;
        }

        .feature-card h3 {
            color: #2c3e50;
            margin-bottom: 10px;
            font-size: 1.2rem;
        }

        .feature-card p {
            color: #666;
            margin-bottom: 15px;
        }

        .feature-icon {
            font-size: 2rem;
            margin-bottom: 10px;
        }

        footer {
            text-align: center;
            padding: 30px;
            color: #666;
            border-top: 1px solid #e1e8ed;
            margin-top: 50px;
        }

        .tip {
            background: #e3f2fd;
            border: 1px solid #bbdefb;
            border-radius: 6px;
            padding: 12px;
            margin: 15px 0;
            font-size: 14px;
            color: #1565c0;
        }

        .tip strong {
            color: #0d47a1;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üåç Ethio-Intl</h1>
            <p>Modern Ethiopian internationalization library with Amharic transliteration, Ethiopian calendar, and Geez numerals</p>
        </div>

        <div class="nav-tabs">
            <button class="nav-btn active" onclick="showTab('transliteration')">üî§ Transliteration</button>
            <button class="nav-btn" onclick="showTab('calendar')">üìÖ Calendar</button>
            <button class="nav-btn" onclick="showTab('numerals')">üî¢ Geez Numerals</button>
            <button class="nav-btn" onclick="showTab('multilang')">üåê Multi-language</button>
            <button class="nav-btn" onclick="showTab('features')">‚ú® Features</button>
        </div>

        <!-- Transliteration Section -->
        <div id="transliteration-section" class="section active">
            <h2>üî§ Amharic Transliteration</h2>
            <div class="demo-content">
                <div class="demo-panel">
                    <div class="input-group">
                        <label class="input-label">Type in English:</label>
                        <input type="text" id="transliterate-input" class="demo-input" placeholder="Try: selam, hu, ba, te, ka..." />
                    </div>
                    <div class="input-group">
                        <label class="input-label">Amharic output:</label>
                        <div class="demo-output" id="transliterate-output">·ä•·äï·ä≥·äï ·ã∞·àÖ·äì ·àò·å°!</div>
                    </div>
                    <div class="button-group">
                        <button class="btn primary" onclick="insertText('selam')">selam</button>
                        <button class="btn primary" onclick="insertText('hu')">hu</button>
                        <button class="btn primary" onclick="insertText('ba')">ba</button>
                        <button class="btn primary" onclick="insertText('te')">te</button>
                        <button class="btn primary" onclick="insertText('ka')">ka</button>
                        <button class="btn primary" onclick="insertText('ne dehna')">ne dehna</button>
                        <button class="btn secondary" onclick="clearText()">Clear</button>
                    </div>
                    <div class="tip">
                        <strong>Tip:</strong> Use 'e' for √§ forms (·àÄ), 'ee' for regular e forms (·àÑ). Example: "he" ‚Üí ·àÄ, "hee" ‚Üí ·àÑ
                    </div>
                </div>
                <div class="code-panel">
                    <h3>Real-time Transliteration</h3>
                    <pre><code class="language-javascript">import { useTransliterate } from 'ethio-intl';

// In your React component
function MyComponent() {
  const [text, setText] = useState('');
  const translated = useTransliterate(text);

  return (
    &lt;input
      value={text}
      onChange={(e) => setText(e.target.value)}
      placeholder="Type in English..."
    /&gt;
    &lt;p&gt;{translated}&lt;/p&gt;
  );
}</code></pre>
                </div>
            </div>
        </div>

        <!-- Calendar Section -->
        <div id="calendar-section" class="section">
            <h2>üìÖ Ethiopian Calendar</h2>
            <div class="demo-content">
                <div class="demo-panel">
                    <div class="input-group">
                        <label class="input-label">Gregorian date:</label>
                        <input type="date" id="gregorian-date" class="demo-input" />
                    </div>
                    <div class="language-buttons">
                        <button class="lang-btn active" onclick="convertEthiopianDate('en')">üá∫üá∏ English</button>
                        <button class="lang-btn" onclick="convertEthiopianDate('am')">üá™üáπ ·ä†·àõ·à≠·äõ</button>
                    </div>
                    <div class="input-group">
                        <label class="input-label">Ethiopian date:</label>
                        <div class="demo-output" id="ethiopian-date"></div>
                    </div>
                    <div class="tip">
                        <strong>Technical:</strong> Uses precise astronomical calculations with Julian Day Number algorithm for accurate Gregorian ‚Üî Ethiopian conversion.
                    </div>
                </div>
                <div class="code-panel">
                    <h3>Calendar Conversion</h3>
                    <pre><code class="language-javascript">import { toEthDate } from 'ethio-intl';

// Convert Gregorian to Ethiopian
const today = new Date();
const ethDate = toEthDate(today, 'en');
// Result: "Tahsas 13, 2018"

const ethDateAmharic = toEthDate(today, 'am');
// Result: "·â≥·àÖ·à≥·àµ 13, 2018"

// Handle leap years automatically
const leapYear = new Date(2024, 8, 11);
const ethLeap = toEthDate(leapYear);
// Result: "Meskerem 1, 2017" (note: 7-8 year offset)</code></pre>
                </div>
            </div>
        </div>

        <!-- Numerals Section -->
        <div id="numerals-section" class="section">
            <h2>üî¢ Geez Numerals</h2>
            <div class="demo-content">
                <div class="demo-panel">
                    <div class="input-group">
                        <label class="input-label">Arabic number:</label>
                        <input type="number" id="arabic-number" class="demo-input" placeholder="Enter number (1-1,000,000)" min="1" max="1000000" value="2025" />
                    </div>
                    <div class="input-group">
                        <label class="input-label">Geez numeral:</label>
                        <div class="demo-output" id="geez-number"></div>
                    </div>
                    <div class="button-group">
                        <button class="btn primary" onclick="convertToGeez(1)">1</button>
                        <button class="btn primary" onclick="convertToGeez(10)">10</button>
                        <button class="btn primary" onclick="convertToGeez(100)">100</button>
                        <button class="btn primary" onclick="convertToGeez(1000)">1000</button>
                        <button class="btn primary" onclick="convertToGeez(10000)">10000</button>
                        <button class="btn primary" onclick="convertToGeez(2025)">2025</button>
                        <button class="btn secondary" onclick="convertToGeezFromInput()">Convert</button>
                    </div>
                    <div class="tip">
                        <strong>Traditional System:</strong> Geez numerals use ·ç©(1), ·ç≤(10), ·çª(100), ·çº(10,000). Note the special rules for 100 and 10,000 (no '1' multiplier).
                    </div>
                </div>
                <div class="code-panel">
                    <h3>Numeral Conversion</h3>
                    <pre><code class="language-javascript">import { toEthNumber, fromEthNumber } from 'ethio-intl';

// Arabic to Geez
const geez = toEthNumber(2025);
// Result: "·ç≥·çª·ç≥·ç≠"

const geez100 = toEthNumber(100);
// Result: "·çª" (note: no '1' multiplier)

const geez10000 = toEthNumber(10000);
// Result: "·çº" (note: no '1' multiplier)

// Geez to Arabic
const arabic = fromEthNumber('·ç≥·çª·ç≥·ç≠');
// Result: 2025</code></pre>
                </div>
            </div>
        </div>

        <!-- Multi-language Support Section -->
        <div id="multilang-section" class="section">
            <h2>üåê Multi-language Support</h2>
            <div class="demo-content">
                <div class="demo-panel">
                    <div class="language-buttons" style="margin-bottom: 20px;">
                        <button class="lang-btn active" onclick="switchLanguage('en')">üá∫üá∏ English</button>
                        <button class="lang-btn" onclick="switchLanguage('am')">üá™üáπ ·ä†·àõ·à≠·äõ</button>
                        <button class="lang-btn" onclick="switchLanguage('ti')">üá™üá∑ ·âµ·åç·à≠·äõ</button>
                        <button class="lang-btn" onclick="switchLanguage('om')">üá™üáπ ·ä¶·àÆ·àö·äõ</button>
                    </div>

                    <div class="input-group">
                        <label class="input-label">Welcome Message:</label>
                        <div class="demo-output" id="welcome-msg"></div>
                    </div>

                    <div class="input-group">
                        <label class="input-label">Description:</label>
                        <div class="demo-output" id="description-msg"></div>
                    </div>

                    <div class="input-group">
                        <label class="input-label">User Count (with interpolation):</label>
                        <div class="demo-output" id="user-count-msg"></div>
                    </div>

                    <div class="input-group">
                        <label class="input-label">Advanced Features:</label>
                        <div class="demo-output" id="advanced-header"></div>
                    </div>

                    <div class="input-group">
                        <label class="input-label">Subtitle:</label>
                        <div class="demo-output" id="advanced-subtitle"></div>
                    </div>

                    <div class="tip">
                        <strong>Variable Interpolation:</strong> Notice how {count} gets replaced with "1,234" automatically. Namespaced translations allow organizing translations by feature/page.
                    </div>
                </div>
                <div class="code-panel">
                    <h3>React Context API Integration</h3>
                    <pre><code class="language-javascript">// 1. Set up translations
const translations = {
  en: {
    translation: {
      welcome: 'Welcome to Ethio-Intl!',
      userCount: 'We have {count} users',
      namespaced: { header: 'Advanced Features' }
    }
  },
  am: {
    translation: {
      welcome: '·ä•·äï·ä≥·äï ·ã∞·àÖ·äì ·àò·å° ·ãà·ã∞ ·ä¢·âµ·ãÆ-·ä¢·äï·âµ·àç!',
      userCount: '{count} ·â∞·å†·âÉ·àö·ãé·âΩ ·ä†·àâ·äï',
      namespaced: { header: '·ã®·àã·âÄ ·â£·àÖ·à™·ã´·âµ' }
    }
  }
};

// 2. Wrap your app
function App() {
  return (
    &lt;EthioProvider
      resources={translations}
      defaultLang="am"
      fallbackLang="en"
    &gt;
      &lt;YourComponents /&gt;
    &lt;/EthioProvider&gt;
  );
}

// 3. Use in components
function MyComponent() {
  const { t, tNamespace, changeLanguage, currentLang } = useEthioIntl();

  return (
    &lt;div&gt;
      &lt;h1&gt;{t('welcome')}&lt;/h1&gt;
      &lt;p&gt;{t('userCount', { count: '1,234' })}&lt;/p&gt;
      &lt;p&gt;{tNamespace('namespaced', 'header')}&lt;/p&gt;

      &lt;button onClick={() =&gt; changeLanguage('am')}&gt;
        Switch to Amharic
      &lt;/button&gt;
    &lt;/div&gt;
  );
}</code></pre>
                </div>
            </div>
        </div>

        <!-- Features Section -->
        <div id="features-section" class="section">
            <h2>‚ú® Key Features</h2>
            <div class="feature-grid">
                <div class="feature-card">
                    <div class="feature-icon">üîÑ</div>
                    <h3>Real-time Transliteration</h3>
                    <p>As you type English letters, they instantly become Amharic characters with smart combinations and cursor management.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üìÖ</div>
                    <h3>Astronomical Precision</h3>
                    <p>Uses Julian Day Number algorithm for mathematically precise Gregorian ‚Üî Ethiopian calendar conversion, accounting for leap years and the 7-8 year offset.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üî¢</div>
                    <h3>Traditional Geez Numerals</h3>
                    <p>Convert Arabic numbers to authentic Geez script with proper formatting rules, including special handling for hundreds and ten-thousands.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üåê</div>
                    <h3>Multi-language Support</h3>
                    <p>Built-in internationalization with React Context API, supporting Amharic, English, Tigrinya, and Oromo with extensible architecture.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">‚ö°</div>
                    <h3>Zero Dependencies</h3>
                    <p>All calculations use pure TypeScript/Math - no external libraries required. Perfect for traditional Ethiopian web applications.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üõ†Ô∏è</div>
                    <h3>Enterprise Ready</h3>
                    <p>Dynamic loading, namespaced translations, hot reloading, and development tools for large-scale applications.</p>
                </div>
            </div>

            <div class="code-panel" style="margin-top: 30px;">
                <h3>Installation & Usage</h3>
                <pre><code class="language-bash"># Install
npm install ethio-intl

# Import what you need
import { toEthDate, toEthNumber, useTransliterate, EthioProvider } from 'ethio-intl';

// Use in your app
function EthiopianApp() {
  return (
    &lt;EthioProvider resources={translations} defaultLang="am"&gt;
      &lt;YourComponents /&gt;
    &lt;/EthioProvider&gt;
  );
}</code></pre>
            </div>
        </div>

        <footer>
            <p>&copy; 2025 Ethio-Intl. Empowering Ethiopian developers with modern internationalization tools.</p>
        </footer>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script>
        // Amharic transliteration mapping (matches the actual library)
        const amharicMap = {
            "h": { √§: "·àÄ", base: "·àÖ", "a": "·àÉ", "u": "·àÅ", "i": "·àÇ", "e": "·àÑ", "o": "·àÜ" },
            "l": { √§: "·àà", base: "·àç", "a": "·àã", "u": "·àâ", "i": "·àä", "e": "·àå", "o": "·àé", "wa": "·àè" },
            "m": { √§: "·àò", base: "·àù", "a": "·àõ", "u": "·àô", "i": "·àö", "e": "·àú", "o": "·àû", "wa": "·àü" },
            "r": { √§: "·à®", base: "·à≠", "a": "·à´", "u": "·à©", "i": "·à™", "e": "·à¨", "o": "·àÆ", "wa": "·àØ" },
            "s": { √§: "·à∞", base: "·àµ", "a": "·à≥", "u": "·à±", "i": "·à≤", "e": "·à¥", "o": "·à∂", "wa": "·à∑" },
            "b": { √§: "·â†", base: "·â•", "a": "·â£", "u": "·â°", "i": "·â¢", "e": "·â§", "o": "·â¶", "wa": "·âß" },
            "t": { √§: "·â∞", base: "·âµ", "a": "·â≥", "u": "·â±", "i": "·â≤", "e": "·â¥", "o": "·â∂", "wa": "·â∑" },
            "n": { √§: "·äê", base: "·äï", "a": "·äì", "u": "·äë", "i": "·äí", "e": "·äî", "o": "·äñ", "wa": "·äó" },
            "k": { √§: "·ä®", base: "·ä≠", "a": "·ä´", "u": "·ä©", "i": "·ä™", "e": "·ä¨", "o": "·äÆ", "wa": "·ä≥", "w": "·äµ" },
            "w": { √§: "·ãà", base: "·ãç", "a": "·ãã", "u": "·ãâ", "i": "·ãä", "e": "·ãå", "o": "·ãé" },
            "z": { √§: "·ãò", base: "·ãù", "a": "·ãõ", "u": "·ãô", "i": "·ãö", "e": "·ãú", "o": "·ãû", "wa": "·ãü" },
            "y": { √§: "·ã®", base: "·ã≠", "a": "·ã´", "u": "·ã©", "i": "·ã™", "e": "·ã¨", "o": "·ãÆ" },
            "d": { √§: "·ã∞", base: "·ãµ", "a": "·ã≥", "u": "·ã±", "i": "·ã≤", "e": "·ã¥", "o": "·ã∂", "wa": "·ã∑" },
            "j": { √§: "·åÄ", base: "·åÖ", "a": "·åÉ", "u": "·åÅ", "i": "·åÇ", "e": "·åÑ", "o": "·åÜ", "wa": "·åá" },
            "g": { √§: "·åà", base: "·åç", "a": "·åã", "u": "·åâ", "i": "·åä", "e": "·åå", "o": "·åé", "wa": "·åì", "w": "·åï" },
            "f": { √§: "·çà", base: "·çç", "a": "·çã", "u": "·çâ", "i": "·çä", "e": "·çå", "o": "·çé", "wa": "·çè" },
            "p": { √§: "·çê", base: "·çï", "a": "·çì", "u": "·çë", "i": "·çí", "e": "·çî", "o": "·çñ", "wa": "·çó" },
            "q": { √§: "·âÄ", base: "·âÖ", "a": "·âÉ", "u": "·âÅ", "i": "·âÇ", "e": "·âÑ", "o": "·âÜ", "wa": "·âã", "w": "·âç" },
            "x": { √§: "·äÄ", base: "·äΩ", "a": "·äª", "u": "·äπ", "i": "·ä∫", "e": "·äº", "o": "·äæ", "wa": "·äã", "w": "·äç" },
            "c": { √§: "·â∏", base: "·âΩ", "a": "·âª", "u": "·âπ", "i": "·â∫", "e": "·âº", "o": "·âæ", "wa": "·âø" },
            "ch": { √§: "·â∏", base: "·âΩ", "a": "·âª", "u": "·âπ", "i": "·â∫", "e": "·âº", "o": "·âæ" },
            "sh": { √§: "·à∏", base: "·àΩ", "a": "·àª", "u": "·àπ", "i": "·à∫", "e": "·àº", "o": "·àæ", "wa": "·àø" },
            "a": { √§: "·ä†", base: "·ä†" },
            "e": { √§: "·ä•", base: "·ä•" },
            "i": { √§: "·ä¢", base: "·ä¢" },
            "o": { √§: "·ä¶", base: "·ä¶" },
            "u": { √§: "·ä°", base: "·ä°" }
        };

        // Build reverse map for efficient lookups
        const reverseMap = {};
        Object.keys(amharicMap).forEach(consonant => {
            const consonantData = amharicMap[consonant];
            reverseMap[consonantData.base] = consonant;
            Object.keys(consonantData).forEach(vowel => {
                if (vowel !== 'base') {
                    reverseMap[consonantData[vowel]] = consonant;
                }
            });
        });

        // Gregorian leap year check
        function isGregorianLeapYear(year) {
            return (year % 4 === 0 && year % 100 !== 0) || (year % 400 === 0);
        }

        function getEthiopianNewYear(gregorianYear) {
            const day = isGregorianLeapYear(gregorianYear) ? 12 : 11;
            return new Date(Date.UTC(gregorianYear, 8, day, 12, 0, 0, 0));
        }

        function getEthiopianYear(gregorianDate) {
            const gregorianYear = gregorianDate.getFullYear();
            const newYearDate = getEthiopianNewYear(gregorianYear);
            const normalizedDate = new Date(Date.UTC(gregorianDate.getFullYear(), gregorianDate.getMonth(), gregorianDate.getDate(), 12, 0, 0, 0));

            if (normalizedDate < newYearDate) {
                return gregorianYear - 8;
            } else {
                return gregorianYear - 7;
            }
        }

        // Ethiopian leap year check
        function isEthiopianLeapYear(ethiopianYear) {
            return ethiopianYear % 4 === 3;
        }

        // Get Ethiopian New Year (Meskerem 1) date
        function getEthiopianNewYear(gregorianYear) {
            // Create date at noon UTC to avoid timezone issues
            const day = isGregorianLeapYear(gregorianYear) ? 12 : 11;
            return new Date(Date.UTC(gregorianYear, 8, day, 12, 0, 0, 0)); // September 11 or 12 at noon UTC
        }

        // Get Ethiopian year for a Gregorian date
        function getEthiopianYear(gregorianDate) {
            const gregorianYear = gregorianDate.getFullYear();
            const newYearDate = getEthiopianNewYear(gregorianYear);
            // Normalize both dates to noon UTC for accurate comparison
            const normalizedDate = new Date(Date.UTC(gregorianDate.getFullYear(), gregorianDate.getMonth(), gregorianDate.getDate(), 12, 0, 0, 0));
            if (normalizedDate < newYearDate) {
                return gregorianYear - 8;
            } else {
                return gregorianYear - 7;
            }
        }

        // Precise Ethiopian date conversion (matching library)
        function toEthDateDemo(inputDate, lang = 'en') {
            // Normalize input date to noon UTC to avoid timezone issues
            const date = new Date(Date.UTC(
                inputDate.getFullYear(),
                inputDate.getMonth(),
                inputDate.getDate(),
                12, 0, 0, 0
            ));

            const gregorianYear = date.getUTCFullYear();
            let ethiopianYear = getEthiopianYear(inputDate); // Use original date for year calculation
            let newYearDate = getEthiopianNewYear(gregorianYear);

            // If original date is before Meskerem 1, use the previous year's Meskerem 1
            const normalizedInputDate = new Date(Date.UTC(inputDate.getFullYear(), inputDate.getMonth(), inputDate.getDate(), 12, 0, 0, 0));
            if (normalizedInputDate < newYearDate) {
                ethiopianYear = getEthiopianYear(inputDate);
                newYearDate = getEthiopianNewYear(gregorianYear - 1);
            }

            let daysDiff = Math.floor((date.getTime() - newYearDate.getTime()) / (1000 * 60 * 60 * 24));

            let ethiopianMonth, ethiopianDay;

            if (daysDiff < 360) {
                ethiopianMonth = Math.floor(daysDiff / 30) + 1;
                ethiopianDay = (daysDiff % 30) + 1;
            } else {
                const pagumeDays = daysDiff - 360;
                const isLeapYear = isEthiopianLeapYear(ethiopianYear);

                if (pagumeDays < (isLeapYear ? 6 : 5)) {
                    ethiopianMonth = 13;
                    ethiopianDay = pagumeDays + 1;
                } else {
                    ethiopianMonth = 1;
                    ethiopianDay = pagumeDays - (isLeapYear ? 6 : 5) + 1;
                }
            }

            const monthName = AMHARIC_MONTHS[lang][ethiopianMonth - 1];
            return `${monthName} ${ethiopianDay}, ${ethiopianYear}`;
        }

        // Geez numeral conversion for demo

        // Amharic month names (matching library)
        const AMHARIC_MONTHS = {
            en: [
                "Meskerem", "Tikimt", "Hidar", "Tahsas", "Tir", "Yekatit",
                "Megabit", "Miazia", "Genbot", "Sene", "Hamle", "Nehase", "Pagume"
            ],
            am: [
                "·àò·àµ·ä®·à®·àù", "·å•·âÖ·àù·âµ", "·àÖ·ã≥·à≠", "·â≥·àÖ·à≥·àµ", "·å•·à≠", "·ã®·ä´·â≤·âµ",
                "·àò·åã·â¢·âµ", "·àö·ã´·ãù·ã´", "·åÄ·äï·â¶·âµ", "·à∞·äî", "·àê·àù·àå", "·äê·àê·à¥", "·å≥·åâ·àú"
            ]
        };


        // Tab switching functionality
        function showTab(tabName) {
            // Hide all sections
            document.querySelectorAll('.section').forEach(section => {
                section.classList.remove('active');
            });
            // Remove active class from all nav buttons
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            // Show selected section
            const sectionElement = document.getElementById(tabName + '-section');
            if (sectionElement) {
                sectionElement.classList.add('active');
            }
            // Add active class to clicked button
            event.target.classList.add('active');
        }

        // Transliteration functions
        function insertText(text) {
            const input = document.getElementById('transliterate-input');
            input.value = text;
            input.focus();
            // Trigger input event
            input.dispatchEvent(new Event('input', { bubbles: true }));
        }

        function clearText() {
            const input = document.getElementById('transliterate-input');
            const output = document.getElementById('transliterate-output');
            input.value = '';
            output.textContent = '·ä•·äï·ä≥·äï ·ã∞·àÖ·äì ·àò·å°!';
            input.focus();
        }

        // Embedded Ethiopian date conversion (matches library)
        const AMHARIC_MONTHS_EMBEDDED = {
            en: [
                "Meskerem", "Tikimt", "Hidar", "Tahsas", "Tir", "Yekatit",
                "Megabit", "Miazia", "Genbot", "Sene", "Hamle", "Nehase", "Pagume"
            ],
            am: [
                "·àò·àµ·ä®·à®·àù", "·å•·âÖ·àù·âµ", "·àÖ·ã≥·à≠", "·â≥·àÖ·à≥·àµ", "·å•·à≠", "·ã®·ä´·â≤·âµ",
                "·àò·åã·â¢·âµ", "·àö·ã´·ãù·ã´", "·åÄ·äï·â¶·âµ", "·à∞·äî", "·àê·àù·àå", "·äê·àê·à¥", "·å≥·åâ·àú"
            ]
        };

        function toEthDateEmbedded(inputDate, lang = 'en') {
            const date = new Date(Date.UTC(
                inputDate.getFullYear(),
                inputDate.getMonth(),
                inputDate.getDate(),
                12, 0, 0, 0
            ));

            const gregorianYear = date.getUTCFullYear();
            let ethiopianYear = getEthiopianYear(inputDate);
            let newYearDate = getEthiopianNewYear(gregorianYear);

            const normalizedInputDate = new Date(Date.UTC(inputDate.getFullYear(), inputDate.getMonth(), inputDate.getDate(), 12, 0, 0, 0));
            if (normalizedInputDate < newYearDate) {
                ethiopianYear = getEthiopianYear(inputDate);
                newYearDate = getEthiopianNewYear(gregorianYear - 1);
            }

            let daysDiff = Math.floor((date.getTime() - newYearDate.getTime()) / (1000 * 60 * 60 * 24));

            let ethiopianMonth, ethiopianDay;

            if (daysDiff < 360) {
                ethiopianMonth = Math.floor(daysDiff / 30) + 1;
                ethiopianDay = (daysDiff % 30) + 1;
            } else {
                const pagumeDays = daysDiff - 360;
                if (pagumeDays < 6) { // Assuming non-leap year for demo
                    ethiopianMonth = 13;
                    ethiopianDay = pagumeDays + 1;
                } else {
                    ethiopianMonth = 1;
                    ethiopianDay = pagumeDays - 5;
                }
            }

            const monthName = AMHARIC_MONTHS_EMBEDDED[lang][ethiopianMonth - 1];
            return `${monthName} ${ethiopianDay}, ${ethiopianYear}`;
        }

        // Ethiopian Calendar functions
        function convertEthiopianDate(lang) {
            const dateInput = document.getElementById('gregorian-date');
            const output = document.getElementById('ethiopian-date');

            let date;
            if (dateInput.value) {
                date = new Date(dateInput.value);
            } else {
                date = new Date();
            }

            const ethDate = toEthDateEmbedded(date, lang);
            output.textContent = ethDate;

            // Update active button styling
            document.querySelectorAll('.language-buttons .lang-btn').forEach(btn => {
                if (btn.onclick.toString().includes(`'${lang}'`)) {
                    btn.classList.add('active');
                } else {
                    btn.classList.remove('active');
                }
            });
        }

        // Embedded Geez numeral conversion (matches library exactly)
        const GEEZ_NUMERALS = {
            ones: ['', '·ç©', '·ç™', '·ç´', '·ç¨', '·ç≠', '·çÆ', '·çØ', '·ç∞', '·ç±'],
            tens: ['', '·ç≤', '·ç≥', '·ç¥', '·çµ', '·ç∂', '·ç∑', '·ç∏', '·çπ', '·ç∫'],
            hundreds: '·çª',
            tenThousands: '·çº'
        };

        function toEthNumberEmbedded(num) {
            if (!Number.isInteger(num) || num < 1 || num > 1000000) {
                return 'Invalid number';
            }

            let result = '';
            let remaining = num;

            // Handle ten-thousands (·çº)
            if (remaining >= 10000) {
                const tenThousands = Math.floor(remaining / 10000);
                remaining %= 10000;

                if (tenThousands === 1) {
                    result += GEEZ_NUMERALS.tenThousands;
                } else if (tenThousands >= 2 && tenThousands <= 9) {
                    result += GEEZ_NUMERALS.tens[tenThousands] + GEEZ_NUMERALS.tenThousands;
                } else if (tenThousands >= 10) {
                    result += toEthNumberEmbedded(tenThousands) + GEEZ_NUMERALS.tenThousands;
                }
            }

            // Handle hundreds and thousands (·çª)
            if (remaining >= 100) {
                const hundreds = Math.floor(remaining / 100);
                remaining %= 100;

                if (hundreds === 1) {
                    result += GEEZ_NUMERALS.hundreds;
                } else if (hundreds >= 2 && hundreds <= 9) {
                    result += GEEZ_NUMERALS.tens[hundreds] + GEEZ_NUMERALS.hundreds;
                } else if (hundreds >= 10) {
                    result += toEthNumberEmbedded(hundreds) + GEEZ_NUMERALS.hundreds;
                }
            }

            // Handle tens and ones
            if (remaining > 0) {
                const tens = Math.floor(remaining / 10);
                const ones = remaining % 10;

                if (tens > 0) {
                    result += GEEZ_NUMERALS.tens[tens];
                }

                if (ones > 0) {
                    result += GEEZ_NUMERALS.ones[ones];
                }
            }

            return result;
        }

        // Geez Numeral functions
        function convertToGeez(num) {
            const output = document.getElementById('geez-number');
            const number = parseInt(num);

            if (!isNaN(number) && number >= 1 && number <= 1000000) {
                const result = toEthNumberEmbedded(number);
                output.textContent = result;
            } else {
                output.textContent = 'Invalid Number';
            }
        }

        function convertToGeezFromInput() {
            const input = document.getElementById('arabic-number');
            const num = input.value;
            convertToGeez(num);
        }

        // Multi-language translations for demo
        const translations = {
            en: {
                translation: {
                    welcome: 'Welcome to Ethio-Intl!',
                    description: 'Experience the power of modern Amharic localization',
                    userCount: 'We have {count} users',
                    namespaced: {
                        header: 'Advanced Features',
                        subtitle: 'Multi-language support made simple'
                    }
                }
            },
            am: {
                translation: {
                    welcome: '·ä•·äï·ä≥·äï ·ã∞·àÖ·äì ·àò·å° ·ãà·ã∞ ·ä¢·âµ·ãÆ-·ä¢·äï·âµ·àç!',
                    description: '·ã®·ä†·àÅ·äë ·ã®·ä†·àõ·à≠·äõ ·ä†·ä´·â£·â¢ ·àò·å†·âÖ·àà·ã´ ·äÉ·ã≠·àç ·àà·àù·àµ·à´·âÖ',
                    userCount: '{count} ·â∞·å†·âÉ·àö·ãé·âΩ ·ä†·àâ·äï',
                    namespaced: {
                        header: '·ã®·àã·âÄ ·â£·àÖ·à™·ã´·âµ',
                        subtitle: '·ã®·â∞·àà·ã´·ã© ·âã·äï·âã·ãé·âΩ ·ãµ·åã·çç ·âÄ·àã·àç ·â∞·ã∞·à≠·åì·àç'
                    }
                }
            },
            ti: {
                translation: {
                    welcome: '·âÖ·ãµ·àù ·ä£·â• ·àì·âÖ ·àò·åª·ä•·ä©·àù ·äì·â• ·ä¢·âµ·ãÆ-·ä¢·äï·âµ·àç!',
                    description: '·àì·ã≠·àä ·ã®·â∞·àà·àò·ã∞ ·âµ·åç·à≠·äõ ·ä†·ä´·â£·â¢ ·àò·å†·âÖ·àà·ã´ ·äÉ·ã≠·àç',
                    userCount: '{count} ·â∞·å†·âÉ·àö·â≥·âµ ·ä£·àà·ãç·äï',
                    namespaced: {
                        header: '·ä•·â∞·ã´·ã®·ã∞ ·â£·àÖ·à≠·ã´·âµ',
                        subtitle: '·ã®·â∞·àà·ã´·ã© ·âã·äï·âã·ãé·âΩ ·ãµ·åã·çç ·âÄ·àã·àç ·â∞·ã∞·à≠·åì·àç'
                    }
                }
            },
            om: {
                translation: {
                    welcome: 'Baga Nagaan Dhufte Ethio-Intl!',
                    description: 'Amaaraa ammee haaraa humna bifa',
                    userCount: '{count} fayyadamaa qabna',
                    namespaced: {
                        header: 'Amaloota Olaanaa',
                        subtitle: 'Deeggarsa afaan hedduu salphaa godhameera'
                    }
                }
            }
        };

        // Multi-language support functions
        let currentLanguage = 'en';

        function switchLanguage(lang) {
            currentLanguage = lang;

            // Update active button styling
            document.querySelectorAll('#multilang-section .language-buttons .lang-btn').forEach(btn => {
                if (btn.onclick.toString().includes(`'${lang}'`)) {
                    btn.classList.add('active');
                } else {
                    btn.classList.remove('active');
                }
            });

            // Update translations with interpolation examples
            const welcomeText = translations[lang].translation.welcome;
            const descriptionText = translations[lang].translation.description;
            const userCountText = translations[lang].translation.userCount.replace('{count}', '1,234');
            const advancedHeader = translations[lang].translation.namespaced.header;
            const advancedSubtitle = translations[lang].translation.namespaced.subtitle;

            document.getElementById('welcome-msg').textContent = welcomeText;
            document.getElementById('description-msg').textContent = descriptionText;
            document.getElementById('user-count-msg').textContent = userCountText;
            document.getElementById('advanced-header').textContent = advancedHeader;
            document.getElementById('advanced-subtitle').textContent = advancedSubtitle;
        }

        // Transliteration function (matching library logic)
        function transliterateText(text) {
            if (!text) return '·ä•·äï·ä≥·äï ·ã∞·àÖ·äì ·àò·å°!';

            let result = '';
            let i = 0;

            while (i < text.length) {
                let char = text[i].toLowerCase();
                let found = false;

                // Check for consonant + vowel combinations
                if (i < text.length - 1) {
                    let consonant = text[i].toLowerCase();
                    let vowel = text[i + 1].toLowerCase();

                    // Handle special cases
                    if (consonant === 'c' && i < text.length - 1 && text[i + 1].toLowerCase() === 'h') {
                        consonant = 'ch';
                        vowel = text[i + 2] ? text[i + 2].toLowerCase() : '';
                        i += 2;
                    } else if (consonant === 's' && i < text.length - 1 && text[i + 1].toLowerCase() === 'h') {
                        consonant = 'sh';
                        vowel = text[i + 2] ? text[i + 2].toLowerCase() : '';
                        i += 2;
                    }

                    // Check if consonant exists in map
                    if (amharicMap[consonant]) {
                        // Check for √§ form (single 'e')
                        if (vowel === 'e' && i < text.length - 2 && text[i + 2] && text[i + 2].toLowerCase() === 'e') {
                            // Double 'e' means regular e form
                            if (amharicMap[consonant]['e']) {
                                result += amharicMap[consonant]['e'];
                                i += 3; // Skip consonant + 'ee'
                                found = true;
                            }
                        } else if (vowel === 'e') {
                            // Single 'e' means √§ form
                            if (amharicMap[consonant]['√§']) {
                                result += amharicMap[consonant]['√§'];
                                i += 2; // Skip consonant + 'e'
                                found = true;
                            }
                        } else if (amharicMap[consonant][vowel]) {
                            // Regular vowel combination
                            result += amharicMap[consonant][vowel];
                            i += 2; // Skip consonant + vowel
                            found = true;
                        }
                    }
                }

                // If no combination found, check for standalone consonant or vowel
                if (!found) {
                    if (amharicMap[char]) {
                        // Standalone consonant (use base form)
                        result += amharicMap[char].base || char;
                    } else if (amharicMap[char] && amharicMap[char]['√§']) {
                        // Standalone vowel
                        result += amharicMap[char]['√§'];
                    } else {
                        // Keep as is
                        result += char;
                    }
                    i++;
                }
            }

            return result || '·ä•·äï·ä≥·äï ·ã∞·àÖ·äì ·àò·å°!';
        }


        // Initialize when page loads
        document.addEventListener('DOMContentLoaded', function() {
            // Set up transliteration input listener
            const inputElement = document.getElementById('transliterate-input');
            if (inputElement) {
                inputElement.addEventListener('input', function(e) {
                    const output = document.getElementById('transliterate-output');
                    if (output) {
                        const translated = transliterateText(e.target.value);
                        output.textContent = translated;
                    }
                });
            }

            // Set up date input
            const dateInput = document.getElementById('gregorian-date');
            if (dateInput) {
                const today = new Date().toISOString().split('T')[0];
                dateInput.value = today;
                dateInput.addEventListener('input', () => convertEthiopianDate('en'));
            }

            // Set up number input
            const numberInput = document.getElementById('arabic-number');
            if (numberInput) {
                numberInput.addEventListener('input', convertToGeezFromInput);
            }

            // Initialize displays
            convertEthiopianDate('en');
            convertToGeezFromInput();
            switchLanguage('en'); // Initialize multi-language demo
        });
    </script>
</body>
</html>