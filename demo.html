<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Amharic Transliteration Demo</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.6;
            background: #f5f5f5;
        }
        .demo-container {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .demo-section {
            margin: 30px 0;
            padding: 20px;
            border: 1px solid #e1e5e9;
            border-radius: 8px;
            background: #fafafa;
        }
        .demo-input {
            width: 100%;
            padding: 15px;
            font-size: 18px;
            border: 2px solid #007bff;
            border-radius: 6px;
            margin: 10px 0;
            font-family: 'Noto Sans Ethiopic', serif;
        }
        .demo-output {
            background: #e8f4fd;
            padding: 15px;
            border-radius: 6px;
            font-family: 'Noto Sans Ethiopic', serif;
            font-size: 24px;
            margin: 10px 0;
            border: 2px solid #007bff;
            min-height: 50px;
        }
        .feature-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        .feature-item {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 6px;
            border-left: 4px solid #007bff;
        }
        .try-examples {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin: 15px 0;
        }
        .example-btn {
            padding: 8px 16px;
            background: #007bff;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
        }
        .example-btn:hover {
            background: #0056b3;
        }
        .cursor-indicator {
            position: relative;
            display: inline-block;
        }
        .cursor-indicator::after {
            content: '|';
            animation: blink 1s infinite;
            color: #007bff;
            font-weight: bold;
        }
        @keyframes blink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0; }
        }
        .status {
            padding: 10px;
            margin: 10px 0;
            border-radius: 4px;
            font-weight: bold;
        }
        .status.success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        .status.info {
            background: #cce7ff;
            color: #004085;
            border: 1px solid #b3d9ff;
        }
    </style>
</head>
<body>
    <div class="demo-container">
        <h1>üåç Amharic Transliteration Demo</h1>
        <p>Experience real-time Amharic transliteration with our advanced SmartInput component!</p>

            <div class="demo-section">
                <h2>üéØ Smart Transliteration Input</h2>
                <p><strong>Type in English</strong> and watch it convert to <strong>Amharic in real-time</strong>:</p>

                <div id="smart-input-container">
                    <input
                        type="text"
                        id="amharic-input"
                        class="demo-input"
                        placeholder="Start typing... (try: selam, hu, ba, te, ka)"
                        autocomplete="off"
                    />
                    <div class="demo-output" id="amharic-output">·ä•·äï·ä≥·äï ·ã∞·àÖ·äì ·àò·å°!</div>
                </div>

                <div class="try-examples">
                    <button class="example-btn" onclick="insertText('selam')">selam</button>
                    <button class="example-btn" onclick="insertText('hu')">hu</button>
                    <button class="example-btn" onclick="insertText('ba')">ba</button>
                    <button class="example-btn" onclick="insertText('te')">te</button>
                    <button class="example-btn" onclick="insertText('ka')">ka</button>
                    <button class="example-btn" onclick="insertText('ne')">ne</button>
                    <button class="example-btn" onclick="insertText('dehna')">dehna</button>
                    <button class="example-btn" onclick="clearText()">Clear</button>
                </div>

                <div style="margin-top: 15px; padding: 10px; background: #e8f4fd; border-radius: 6px; font-size: 14px;">
                    <strong>üí° First Forms (√§ vowel) - Multiple Easy Methods:</strong>
                    <div style="display: flex; gap: 10px; flex-wrap: wrap; margin-top: 5px;">
                        <button class="example-btn" onclick="insertText('he')" style="font-size: 12px;">he ‚Üí ·àÄ</button>
                        <button class="example-btn" onclick="insertText('le')" style="font-size: 12px;">le ‚Üí ·àà</button>
                        <button class="example-btn" onclick="insertText('me')" style="font-size: 12px;">me ‚Üí ·àò</button>
                        <button class="example-btn" onclick="insertText('re')" style="font-size: 12px;">re ‚Üí ·à®</button>
                        <button class="example-btn" onclick="insertText('se')" style="font-size: 12px;">se ‚Üí ·à∞</button>
                        <button class="example-btn" onclick="insertText('be')" style="font-size: 12px;">be ‚Üí ·â†</button>
                        <button class="example-btn" onclick="insertText('te')" style="font-size: 12px;">te ‚Üí ·â∞</button>
                        <button class="example-btn" onclick="insertText('ne')" style="font-size: 12px;">ne ‚Üí ·äê</button>
                        <button class="example-btn" onclick="insertText('ke')" style="font-size: 12px;">ke ‚Üí ·ä®</button>
                        <button class="example-btn" onclick="insertText('we')" style="font-size: 12px;">we ‚Üí ·ãà</button>
                        <button class="example-btn" onclick="insertText('ze')" style="font-size: 12px;">ze ‚Üí ·ãò</button>
                        <button class="example-btn" onclick="insertText('ye')" style="font-size: 12px;">ye ‚Üí ·ã®</button>
                        <button class="example-btn" onclick="insertText('de')" style="font-size: 12px;">de ‚Üí ·ã∞</button>
                        <button class="example-btn" onclick="insertText('je')" style="font-size: 12px;">je ‚Üí ·åÄ</button>
                        <button class="example-btn" onclick="insertText('ge')" style="font-size: 12px;">ge ‚Üí ·åà</button>
                    </div>
                    <div style="display: flex; gap: 10px; flex-wrap: wrap; margin-top: 5px;">
                        <button class="example-btn" onclick="insertText('h√§')" style="font-size: 12px;">h√§ ‚Üí ·àÄ</button>
                        <button class="example-btn" onclick="insertText('h1')" style="font-size: 12px;">h1 ‚Üí ·àÄ</button>
                        <button class="example-btn" onclick="insertText('l1')" style="font-size: 12px;">l1 ‚Üí ·àà</button>
                        <button class="example-btn" onclick="insertText('haa')" style="font-size: 12px;">haa ‚Üí ·àÄ</button>
                        <button class="example-btn" onclick="insertText('hee')" style="font-size: 12px;">hee ‚Üí ·àÑ</button>
                    </div>
                    <div style="margin-top: 5px; font-size: 12px; color: #666;">
                        <strong>Tip:</strong> Use 'e' after consonants for √§ forms, 'ee' for regular e forms!
                    </div>
                </div>
            </div>

            <div class="demo-section">
                <h2>‚ú® Features</h2>
                <div class="feature-list">
                    <div class="feature-item">
                        <h3>üîÑ Real-time Conversion</h3>
                        <p>As you type English letters, they instantly become Amharic characters</p>
                    </div>
                    <div class="feature-item">
                        <h3>üéØ Smart Combinations</h3>
                        <p>Consonant + vowel combinations work perfectly (h+u = ·àÅ, b+a = ·â£)</p>
                    </div>
                    <div class="feature-item">
                        <h3>‚å®Ô∏è Full Keyboard Support</h3>
                        <p>25+ consonants with complete vowel variations (a, e, i, o, u, wa, w)</p>
                    </div>
                    <div class="feature-item">
                        <h3>üì± Cursor Management</h3>
                        <p>Cursor stays in the right position during character replacements</p>
                    </div>
                    <div class="feature-item">
                        <h3>üîç Reverse Lookup</h3>
                        <p>Efficient mapping system for fast transliteration</p>
                    </div>
                    <div class="feature-item">
                        <h3>üé® Beautiful Display</h3>
                        <p>Proper Amharic typography with correct character rendering</p>
                    </div>
                </div>
            </div>

            <div class="demo-section">
                <h2>üìö Supported Characters</h2>
                <div id="character-showcase">
                    <div class="status info">
                        Loading character showcase...
                    </div>
                </div>
            </div>

            <div class="demo-section">
                <h2>üöÄ Technical Implementation</h2>
                <ul>
                    <li><strong>Nested Dictionary:</strong> Organized consonant ‚Üí vowel mappings</li>
                    <li><strong>Reverse Lookup:</strong> Fast Amharic ‚Üí Latin character mapping</li>
                    <li><strong>React Hooks:</strong> useTransliterate hook for state management</li>
                    <li><strong>TypeScript:</strong> Full type safety and IntelliSense support</li>
                    <li><strong>Performance:</strong> Optimized for real-time typing experience</li>
                </ul>
            </div>
    </div>

    <script>
        // Amharic transliteration mapping (matches the actual library)
        const amharicMap = {
            "h": { √§: "·àÄ", base: "·àÖ", "a": "·àÉ", "u": "·àÅ", "i": "·àÇ", "e": "·àÑ", "o": "·àÜ" },
            "l": { √§: "·àà", base: "·àç", "a": "·àã", "u": "·àâ", "i": "·àä", "e": "·àå", "o": "·àé", "wa": "·àè" },
            "m": { √§: "·àò", base: "·àù", "a": "·àõ", "u": "·àô", "i": "·àö", "e": "·àú", "o": "·àû", "wa": "·àü" },
            "r": { √§: "·à®", base: "·à≠", "a": "·à´", "u": "·à©", "i": "·à™", "e": "·à¨", "o": "·àÆ", "wa": "·àØ" },
            "s": { √§: "·à∞", base: "·àµ", "a": "·à≥", "u": "·à±", "i": "·à≤", "e": "·à¥", "o": "·à∂", "wa": "·à∑" },
            "b": { √§: "·â†", base: "·â•", "a": "·â£", "u": "·â°", "i": "·â¢", "e": "·â§", "o": "·â¶", "wa": "·âß" },
            "t": { √§: "·â∞", base: "·âµ", "a": "·â≥", "u": "·â±", "i": "·â≤", "e": "·â¥", "o": "·â∂", "wa": "·â∑" },
            "n": { √§: "·äê", base: "·äï", "a": "·äì", "u": "·äë", "i": "·äí", "e": "·äî", "o": "·äñ", "wa": "·äó" },
            "k": { √§: "·ä®", base: "·ä≠", "a": "·ä´", "u": "·ä©", "i": "·ä™", "e": "·ä¨", "o": "·äÆ", "wa": "·ä≥", "w": "·äµ" },
            "w": { √§: "·ãà", base: "·ãç", "a": "·ãã", "u": "·ãâ", "i": "·ãä", "e": "·ãå", "o": "·ãé" },
            "z": { √§: "·ãò", base: "·ãù", "a": "·ãõ", "u": "·ãô", "i": "·ãö", "e": "·ãú", "o": "·ãû", "wa": "·ãü" },
            "y": { √§: "·ã®", base: "·ã≠", "a": "·ã´", "u": "·ã©", "i": "·ã™", "e": "·ã¨", "o": "·ãÆ" },
            "d": { √§: "·ã∞", base: "·ãµ", "a": "·ã≥", "u": "·ã±", "i": "·ã≤", "e": "·ã¥", "o": "·ã∂", "wa": "·ã∑" },
            "j": { √§: "·åÄ", base: "·åÖ", "a": "·åÉ", "u": "·åÅ", "i": "·åÇ", "e": "·åÑ", "o": "·åÜ", "wa": "·åá" },
            "g": { √§: "·åà", base: "·åç", "a": "·åã", "u": "·åâ", "i": "·åä", "e": "·åå", "o": "·åé", "wa": "·åì", "w": "·åï" },
            "f": { √§: "·çà", base: "·çç", "a": "·çã", "u": "·çâ", "i": "·çä", "e": "·çå", "o": "·çé", "wa": "·çè" },
            "p": { √§: "·çê", base: "·çï", "a": "·çì", "u": "·çë", "i": "·çí", "e": "·çî", "o": "·çñ", "wa": "·çó" },
            "q": { √§: "·âÄ", base: "·âÖ", "a": "·âÉ", "u": "·âÅ", "i": "·âÇ", "e": "·âÑ", "o": "·âÜ", "wa": "·âã", "w": "·âç" },
            "x": { √§: "·äÄ", base: "·äΩ", "a": "·äª", "u": "·äπ", "i": "·ä∫", "e": "·äº", "o": "·äæ", "wa": "·äã", "w": "·äç" },
            "c": { √§: "·â∏", base: "·âΩ", "a": "·âª", "u": "·âπ", "i": "·â∫", "e": "·âº", "o": "·âæ", "wa": "·âø" },
            "ch": { √§: "·â∏", base: "·âΩ", "a": "·âª", "u": "·âπ", "i": "·â∫", "e": "·âº", "o": "·âæ" },
            "sh": { √§: "·à∏", base: "·àΩ", "a": "·àª", "u": "·àπ", "i": "·à∫", "e": "·àº", "o": "·àæ", "wa": "·àø" },
            "a": { √§: "·ä†", base: "·ä†" },
            "e": { √§: "·ä•", base: "·ä•" },
            "i": { √§: "·ä¢", base: "·ä¢" },
            "o": { √§: "·ä¶", base: "·ä¶" },
            "u": { √§: "·ä°", base: "·ä°" }
        };

        // Build reverse map for efficient lookups
        const reverseMap = {};
        Object.keys(amharicMap).forEach(consonant => {
            const consonantData = amharicMap[consonant];
            reverseMap[consonantData.base] = consonant;
            Object.keys(consonantData).forEach(vowel => {
                if (vowel !== 'base') {
                    reverseMap[consonantData[vowel]] = consonant;
                }
            });
        });

        // Initialize when page loads
        document.addEventListener('DOMContentLoaded', function() {
            // Set up the input event listener for real-time transliteration
            const inputElement = document.getElementById('amharic-input');
            const outputElement = document.getElementById('amharic-output');

            inputElement.addEventListener('input', function(e) {
                const newValue = e.target.value;

                // Advanced transliteration logic with √§ form support (matches library)
                let result = '';
                let i = 0;

                while (i < newValue.length) {
                    const char = newValue[i].toLowerCase();

                    // Check if this character is a vowel that should combine with the previous consonant
                    if (result.length > 0 && ['a', 'e', 'i', 'o', 'u'].includes(char)) {
                        const lastChar = result[result.length - 1];
                        const consonantKey = reverseMap[lastChar];

                        if (consonantKey && amharicMap[consonantKey]) {
                            // Special handling for 'e': check for double 'e' (ee) pattern
                            // If next character is also 'e', use regular 'e' form, otherwise use √§ form
                            if (char === 'e') {
                                const nextChar = newValue[i + 1]?.toLowerCase();
                                if (nextChar === 'e' && amharicMap[consonantKey]['e']) {
                                    // Double 'e' (ee) ‚Üí regular e form
                                    result = result.slice(0, -1) + amharicMap[consonantKey]['e'];
                                    i += 2; // Skip both 'e's
                                    continue;
                                } else if (amharicMap[consonantKey]['√§']) {
                                    // Single 'e' ‚Üí √§ form (easier for users)
                                    result = result.slice(0, -1) + amharicMap[consonantKey]['√§'];
                                    i++;
                                    continue;
                                }
                            }
                            // Regular vowel combination
                            else if (amharicMap[consonantKey][char]) {
                                result = result.slice(0, -1) + amharicMap[consonantKey][char];
                                i++;
                                continue;
                            }
                        }
                    }

                    // Default: add the base character
                    const transliteration = amharicMap[char]?.base || char;
                    result += transliteration;
                    i++;
                }

                outputElement.textContent = result;
            });

            // Character showcase
            const showcaseContainer = document.getElementById('character-showcase');
            const examples = [
                { latin: 'he', amharic: '·àÄ' },
                { latin: 'hu', amharic: '·àÅ' },
                { latin: 'ha', amharic: '·àÉ' },
                { latin: 'le', amharic: '·àà' },
                { latin: 'me', amharic: '·àò' },
                { latin: 'be', amharic: '·â†' },
                { latin: 'te', amharic: '·â∞' },
                { latin: 'ne', amharic: '·äê' },
                { latin: 'ke', amharic: '·ä®' },
                { latin: 'selam', amharic: '·à∞·àã·àù' }
            ];

            let showcaseHTML = '<div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap: 10px;">';
            examples.forEach(example => {
                showcaseHTML += `
                    <div style="background: #f8f9fa; padding: 10px; border-radius: 4px; text-align: center;">
                        <div style="font-weight: bold; color: #007bff;">${example.latin}</div>
                        <div style="font-size: 24px; font-family: 'Noto Sans Ethiopic', serif;">${example.amharic}</div>
                    </div>
                `;
            });
            showcaseHTML += '</div>';

            showcaseContainer.innerHTML = showcaseHTML;
        });

        // Global functions for the buttons
        function insertText(text) {
            const input = document.getElementById('amharic-input');
            input.value = text;
            input.focus();
            // Trigger input event
            input.dispatchEvent(new Event('input', { bubbles: true }));
        }

        function clearText() {
            const input = document.getElementById('amharic-input');
            const output = document.getElementById('amharic-output');
            input.value = '';
            output.textContent = '·ä•·äï·ä≥·äï ·ã∞·àÖ·äì ·àò·å°!';
            input.focus();
        }
    </script>
</body>
</html>
